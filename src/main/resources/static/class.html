<!DOCTYPE html>
<!--[if IE 8]> <html lang="en" class="ie8 no-js"> <![endif]-->
<!--[if IE 9]> <html lang="en" class="ie9 no-js"> <![endif]-->
<!--[if !IE]><!-->
<html lang="zxx">
<!--<![endif]-->
<!-- Begin Head -->

<head>
  <title>学生证管理系统</title>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <meta name="description" content="">
  <meta name="keywords" content="">
  <meta name="author" content="">
  <meta name="MobileOptimized" content="320">
  <!--Start Style -->
  <link rel="stylesheet" type="text/css" href="css/fonts.css">
  <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
  <link rel="stylesheet" type="text/css" href="css/font-awesome.min.css">
  <link rel="stylesheet" type="text/css" href="css/icofont.min.css">
  <link rel="stylesheet" type="text/css" href="css/style.css">
  <link rel="stylesheet" id="theme-change" type="text/css" href="">
</head>

<body>
<div class="loader">
  <div class="spinner">
    <img src="picture/loader.gif" alt="">
  </div>
</div>
<!-- Main Body -->
<div class="page-wrapper">
  <!-- Header Start -->
  <header class="header-wrapper main-header">
    <div class="header-inner-wrapper">
      <div class="logo-wrapper">
        <a href="" class="admin-logo">
          <img src="picture/logo.png" alt="">
        </a>
      </div>
      <div class="header-right">
        <div class="serch-wrapper">
          <form>
            <input type="text" placeholder="Search Here...">
          </form>
          <a class="search-close" href="javascript:void(0);"><span class="icofont-close-line"></span></a>
        </div>
        <div class="header-left">
          <div class="header-links">
            <a href="javascript:void(0);" class="toggle-btn">
              <span></span>
            </a>
          </div>
        </div>
      </div>
    </div>
  </header>
  <!-- Sidebar Start -->
  <aside class="sidebar-wrapper">
    <div class="side-menu-wrap">
      <ul class="main-menu">
        <li>
          <a href="index.html" >
              <span class="icon-menu feather-icon">
                  <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-users"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path></svg>
              </span>
              <span class="menu-text">
                个人信息界面
              </span>
          </a>
        </li>
        <li>
          <a href="class.html">
            <span class="icon-menu feather-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-package"><line x1="16.5" y1="9.4" x2="7.5" y2="4.21"></line><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line></svg>
            </span>
            <span class="menu-text">
              按班级查找
            </span>
          </a>
        </li>
      </ul>
    </div>
  </aside>
  <!-- Container Start -->
  <div class="page-wrapper">
    <div class="main-content">
      <!-- Page Title Start -->
      <div class="row">
        <div class="colxl-12 col-lg-12 col-md-12 col-sm-12 col-12">
          <div class="page-title-wrapper">
            <div class="page-title-box ad-title-box-use">
              <h4 class="page-title">搜索栏</h4>
            </div>
            <div class="ad-breadcrumb">
              <ul>
                <li>
                  <div class="ad-user-btn">
                    <input class="form-control" type="text" placeholder="输入学号查找" id="searchbox">
                    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 56.966 56.966">
                      <path d="M55.146,51.887L41.588,37.786c3.486-4.144,5.396-9.358,5.396-14.786c0-12.682-10.318-23-23-23s-23,10.318-23,23
												s10.318,23,23,23c4.761,0,9.298-1.436,13.177-4.162l13.661,14.208c0.571,0.593,1.339,0.92,2.162,0.92
												c0.779,0,1.518-0.297,2.079-0.837C56.255,54.982,56.293,53.08,55.146,51.887z M23.984,6c9.374,0,17,7.626,17,17s-7.626,17-17,17
												s-17-7.626-17-17S14.61,6,23.984,6z"></path>
                    </svg>
                  </div>
                </li>
                <li>
                  <div class="add-group">
                    <a class="ad-btn" id="search">搜索</a>
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>

      <!-- Dashboard Start -->
      <div class="row" >
        <div class="col-xl-13">
          <form class="card" id="studentinf">
            <div class="card-header">
              <h4 class="card-title mb-0">个人信息</h4>
              <div class="card-options"><a class="card-options-collapse" href="javascript:;" data-bs-toggle="card-collapse" ><i class="fe fe-chevron-up"></i></a><a class="card-options-remove" href="javascript:;" data-bs-toggle="card-remove" ><i class="fe fe-x"></i></a></div>
            </div>
            <div class="card-body">
              <div class="row">
                <div class="col-md-3">
                  <div class="mb-3">
                    <label class="form-label">姓名</label>
                    <input class="form-control" type="text" placeholder="name" id="sname">
                  </div>
                </div>
                <div class="col-sm-5 col-md-3">
                  <div class="mb-3">
                    <label class="form-label">性别</label>
                    <input class="form-control" type="text" placeholder="gender" id="gender">
                  </div>
                </div>
                <div class="col-sm-5 col-md-6">
                  <div class="mb-3">
                    <label class="form-label">学号</label>
                    <input class="form-control" type="text" placeholder="studentid" id="studentid">
                  </div>
                </div>
                <div class="col-sm-6 col-md-6">
                  <div class="mb-3">
                    <label class="form-label">学院</label>
                    <input class="form-control" type="text" placeholder="college" id="college">
                  </div>
                </div>
                <div class="col-sm-6 col-md-6">
                  <div class="mb-3">
                    <label class="form-label">班级</label>
                    <input class="form-control" type="text" placeholder="class" id="class">
                  </div>
                </div>
                <div class="col-md-12">
                  <div class="mb-3">
                    <label class="form-label">身份证</label>
                    <input class="form-control" type="text" placeholder="id" id="idcard">
                  </div>
                </div>
                <div class="col-sm-6 col-md-6">
                  <div class="mb-3">
                    <label class="form-label">籍贯</label>
                    <input class="form-control" type="text" placeholder="City" id="nativeplace">
                  </div>
                </div>
                <div class="col-sm-6 col-md-6">
                  <div class="mb-3">
                    <label class="form-label">生日</label>
                    <input class="form-control" type="text" placeholder="birthday" id="birthday">
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-md-3">
                  <button class="btn btn-primary squer-btn" type="button" id="update">更新信息</button>
                </div>
                <div class="col-md-3">
                  <button class="btn btn-light squer-btn" onclick="unreadonlyfunc()" type="button" >修改信息</button>
                </div>
              </div>
            </div>
          </form>
        </div>
      </div>

    </div>

  </div>
</div>


<!-- Slide Setting Box -->
<div class="slide-setting-box">
  <div class="slide-setting-holder">
    <div class="setting-box-head">
      <h4>General Settings</h4>
      <a href="javascript:void(0);" class="close-btn">Close</a>
    </div>
    <div class="setting-box-body">
      <div class="p-4">
        <div class="switch-settings">
          <div class="d-flex mb-3">
            <span class="mr-auto fs-15">Notifications</span>
            <div class="checkbox checkbox-toggle">
              <input id="checkbox55" type="checkbox">
              <label for="checkbox55"></label>
            </div>
          </div>
          <div class="d-flex mb-3">
            <span class="mr-auto fs-15">Show your emails</span>
            <div class="checkbox checkbox-toggle">
              <input id="checkbox56" type="checkbox">
              <label for="checkbox56"></label>
            </div>
          </div>
          <div class="d-flex mb-3">
            <span class="mr-auto fs-15">Show Task statistics</span>
            <div class="checkbox checkbox-toggle">
              <input id="checkbox57" type="checkbox">
              <label for="checkbox57"></label>
            </div>
          </div>
          <div class="d-flex mb-3">
            <span class="mr-auto fs-15">Show recent activity</span>
            <div class="checkbox checkbox-toggle">
              <input id="checkbox58" type="checkbox">
              <label for="checkbox58"></label>
            </div>
          </div>
          <div class="d-flex mb-3">
            <span class="mr-auto fs-15">System Logs</span>
            <div class="checkbox checkbox-toggle">
              <input id="checkbox59" type="checkbox">
              <label for="checkbox59"></label>
            </div>
          </div>
          <div class="d-flex mb-3">
            <span class="mr-auto fs-15">Error Reporting</span>
            <div class="checkbox checkbox-toggle">
              <input id="checkbox60" type="checkbox">
              <label for="checkbox60"></label>
            </div>
          </div>
          <div class="d-flex mb-3">
            <span class="mr-auto fs-15">Show your status to all</span>
            <div class="checkbox checkbox-toggle">
              <input id="checkbox61" type="checkbox">
              <label for="checkbox61"></label>
            </div>
          </div>
          <div class="d-flex">
            <span class="mr-auto fs-15">Keep up to date</span>
            <div class="checkbox checkbox-toggle">
              <input id="checkbox62" type="checkbox">
              <label for="checkbox62"></label>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="p-3 border-top border-bottom">
      <h5 class="border-bottom-0 mb-0">Overview</h5>
    </div>
    <div class="p-4">
      <div class="progress-wrapper">
        <div class="mb-3">
          <p class="mb-2">Achieves<span class="float-right text-muted font-weight-normal">95%</span></p>
          <div class="progress h-1">
            <div class="progress-bar bg-primary col-3" role="progressbar" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
          </div>
        </div>
      </div>
      <div class="progress-wrapper pt-2">
        <div class="mb-3">
          <p class="mb-2">Projects<span class="float-right text-muted font-weight-normal">65%</span></p>
          <div class="progress">
            <div class="progress-bar bg-secondary col-3" role="progressbar" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
          </div>
        </div>
      </div>
      <div class="progress-wrapper pt-2">
        <div class="mb-3">
          <p class="mb-2">Earnings<span class="float-right text-muted font-weight-normal">55%</span></p>
          <div class="progress">
            <div class="progress-bar bg-success col-8" role="progressbar" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
          </div>
        </div>
      </div>
      <div class="progress-wrapper pt-2">
        <div class="mb-3">
          <p class="mb-2">Balance<span class="float-right text-muted font-weight-normal">50%</span></p>
          <div class="progress h-1">
            <div class="progress-bar bg-warning w-50 " role="progressbar"></div>
          </div>
        </div>
      </div>
      <div class="progress-wrapper pt-2">
        <div class="mb-3">
          <p class="mb-2">Total Profits<span class="float-right text-muted font-weight-normal">80%</span></p>
          <div class="progress">
            <div class="progress-bar bg-info col-6" role="progressbar" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
          </div>
        </div>
      </div>
      <div class="progress-wrapper pt-2">
        <div class="mb-3">
          <p class="mb-2">Total Likes<span class="float-right text-muted font-weight-normal">75%</span></p>
          <div class="progress h-1">
            <div class="progress-bar bg-teal w-75" role="progressbar"></div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Script Start -->
<script src="js/jquery.min.js"></script>
<script src="js/popper.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/swiper.min.js"></script>
<script src="js/apexcharts.min.js"></script>
<script src="js/control-chart-apexcharts.js"></script>
<!-- Page Specific -->
<script src="js/nice-select.min.js"></script>
<!-- Custom Script -->
<script src="js/custom.js"></script>
<script>
  window.onload=function () {
    $('#studentinf').find('input').attr('readonly',true);
  }
  //修改信息时设置可修改
  function unreadonlyfunc()
  {
    $('#studentinf').find('input').attr('readonly',false);
    //学号唯一，不可修改
    document.querySelector("#studentid").readOnly=true;
  }
  //按学号查找
  $('#search').click(function() {
    let sno=document.getElementById("searchbox").value;
    // console.log($sno);
    $.ajax({
      url: "/bySno?sno=" + sno,
      dataType:'json',
      success: function (result) {
        console.log(result.data);
        document.getElementById("sname").value=result.data.sname.toString();
        document.getElementById("birthday").value=result.data.birthday.toString();
        document.getElementById("college").value=result.data.college.toString();
        document.getElementById("gender").value=result.data.gender.toString();
        document.getElementById("class").value=result.data.classs.toString();
        document.getElementById("nativeplace").value=result.data.nativeplace.toString();
        document.getElementById("studentid").value=result.data.studentid.toString();
        document.getElementById("idcard").value=result.data.idcard.toString();

      }
    })
  });
  $('#update').click(function() {
    let sno = document.getElementById("studentid").value;
    let name=document.getElementById("sname").value;
    let gender=document.getElementById("gender").value;
    let college=document.getElementById("college").value;
    let classs=document.getElementById("class").value;
    let idcard=document.getElementById("idcard").value;
    let nativeplace=document.getElementById("nativeplace").value;
    let birthday=document.getElementById("birthday").value;
    let $url=`/updateInfo?sno=${sno}&name=${name}&gender=${gender}&college=${college}&classs=${classs}&idcard=${idcard}&nativeplace=${nativeplace}&birthday=${birthday}`;
    // console.log($url);
    $.ajax({
      url: $url.toString(),
      success: function (result) {
        console.log(result);
        alert("信息更新成功");
      }
    })
  });
</script>
</body>


</html>